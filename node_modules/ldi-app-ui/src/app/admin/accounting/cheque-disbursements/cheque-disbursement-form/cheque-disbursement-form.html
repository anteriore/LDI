<style>
	.highlightred{
		background-color:red;
	}
	
	.highlight{
		background-color:#7ed321;
	}
</style>



<form novalidate ng-submit="$ctrl.submitForm();" method="post">
		
		
		<div class="request-action">
				 <a href="#" class="button-link btn btn-action btn-md" data-target="#selectChequePrintingModal" data-toggle="modal">Select CP</a>
		</div>
		
		<div ng-if="$ctrl.cp.chequePrinting">
		<div class="form-content">
			<div class="step-form">
				<div class="horizontal-align -between">
					<div class="side-one">
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<label class="label capitalize-text">CP Number</label>
								<input type="text" ng-if="$ctrl.cp.chequePrinting.number" readonly class="form-control -border" ng-value="$ctrl.cp.chequePrinting.number"/>
								<input type="text" ng-if="$ctrl.cp.chequePrinting.number == null" readonly class="form-control -border" value="AUTOGENERATED UPON CREATION"/>
								
							</div>
						</div>
					</div>
					
				</div>
			</div>
		</div>
		

		<div class="horizontal-align -start rmpm-content">
			  <div class="horizontal-align -start rmpm-code">
			    <div class="form-group rmpm">
			    		<label class="label capitalize-text">Payee Code</label>
			    		<input type="text" ng-model="$ctrl.cp.chequePrinting.vendor.code" readonly  class="form-control -border"/>
			    </div>
			  </div>
			  <div class="side-two">
			    <div class="form-group">
			      	<label class="label capitalize-text">Payee</label>
			    		<input type="text" ng-model="$ctrl.cp.chequePrinting.vendor.name" readonly  class="form-control -border"/>
			    </div>
			  </div>
			</div>
			<div ng-if="$ctrl.cp.chequePrinting.vendor">
				<table class='table table-list'>
					<thead>
						<tr>
							<th>VP #</th>
							<th>Date</th>
							<th>Payee</th>
							<th>Remarks</th>
							<th>Amount</th>
							<th>View</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="v in $ctrl.cp.chequePrinting.payables">
							<td>{{v.number}}</td>
							<td>{{v.date | date}}</td>
							<td>{{v.vendor.name}}</td>
							<td>{{v.remarks}}</td>
							<td>{{v.totalAmount.toFixed(2)}}</td>
							<td>
				 				<a href="#" class="button-link btn btn-primary btn-md" ng-click="$ctrl.viewVp(v)" data-target="#vpModal" data-toggle="modal">View</a>
							</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th></th>
							<th></th>
							<th></th>
							<th></th>
							<th>Total Amount:</th>
							<th>{{$ctrl.cp.chequePrinting.totalAmount.toFixed(2)}}</th>
						</tr>
					</tfoot>
				</table>
			</div>
			
			<div class="form-content">
			<div class="step-form">
				<div class="horizontal-align -between">
					<div class="side-one">
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<label class="label capitalize-text">Cheque No</label>
								<input type="text" ng-model="$ctrl.cp.chequePrinting.chequeNumber" readonly class="form-control -border"/>
								
							</div>
						</div>
					</div>
					<div class="side-two">
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<label class="label capitalize-text">Cheque Date</label>
								<input type="text" ng-model="$ctrl.cp.chequePrinting.chequeDate" readonly class="form-control -border" />
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="form-content">
			<div class="step-form">
				<div class="horizontal-align -between">
					<div class="side-one">
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<label class="label capitalize-text">Payee Name</label>
								<input type="text" ng-model="$ctrl.cp.chequePrinting.payeeName" readonly  class="form-control -border" />
								
							</div>
						</div>
					</div>
					<div class="side-two">
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<label class="label capitalize-text">Bank Account</label>
								<input type="text" ng-model="$ctrl.cp.chequePrinting.bankAccount.name" readonly  class="form-control -border" />
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<account-title-table
			accounttitles="$ctrl.cp.accountTitles",
			readonly="false"
		></account-title-table>
			<div class="request-action">
					<button type="submit" class="btn btn-create btn-md">{{$ctrl.button}}</button>
				</div>
		</div>		
	
</form>



<div class='modal fade' id='selectChequePrintingModal'>
		<div class="modal-dialog -bg">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">
						Select CP
					</h4>
					<button class="close" data-dismiss="modal" type="button">
					</button>
				</div>
				<div class="search-box horizontal-align -between">
			      <div class="input-group-addon" style="border: 0	 !important;">
			          <i class="fa fa-search"></i>
			        </div>
			        <input class="form-control -borderless search" placeholder="CP No" type="text" name="search" ng-model="$ctrl.searchNumber"
			        />
			        <input class="form-control -borderless search" placeholder="Date" type="text" name="search" ng-model="$ctrl.searchDate" />
			  </div>
					<div class="wrapper scroll-section">
						<table class='table table-hover'>
							<thead>
								<tr>
									<th>CP #</th>
									<th>Code</th>
									<th>Name</th>
									<th>Cheque #</th>
									<th>Cheque Date</th>
									<th>Amount</th>
									<th>Status</th>
								</tr>
							</thead>
							<tbody>
								<tr data-dismiss="modal" ng-repeat="p in $ctrl.cpList" ng-click="$ctrl.selectChequePrinting(p)" >
									<td>{{p.number}}</td>
									<td>{{p.vendor.code}}</td>
									<td>{{p.vendor.name}}</td>
									<td>{{p.chequeNumber}}</td>
									<td>{{p.chequeDate | date}}</td>
									<td>{{p.totalAmount}}</td>
									<td>{{p.status}}</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>

    
<view-vp-modal
	vp="$ctrl.vp"
></view-vp-modal>
	  