<style>
	.highlightred{
		background-color:red;
	}
</style>


<form novalidate ng-submit="$ctrl.submitForm();" method="post">
<div class="form-content">
  <div class="horizontal-align -start rmpm-content">
			  <div class="horizontal-align -start rmpm-code">
			    <div class="form-group rmpm">
			    		<label class="label capitalize-text">FG-RS Number</label>
			    			<input type="text" readonly class="form-control -border" value="AUTOGENERATED UPON CREATION"/>
			    </div>
			    <div class="form-group rmpm">
			    		<label class="label capitalize-text">Date</label>
			    		<input type="date" ng-model="$ctrl.prs.date" class="form-control -border"/>
			    </div>
			  </div>
		</div>
<div class="horizontal-align -start rmpm-content">
			  <div class="horizontal-align -start rmpm-code">
			    <div class="form-group rmpm">
		    	<label class="remarks">Received By:</label>
		    	<input type="text" class="form-control -border" ng-value="$ctrl.name"/>
    			</div>
			    <div class="form-group rmpm">
			    		<label class="label capitalize-text">Depot</label>
<select class="form-control select" ng-model="$ctrl.prs.depot.id" ng-options="d.id as d.name for d in $ctrl.depots" name="toDepots">
           					</select>
			  </div>
		</div>
		</div>
    	<div class="horizontal-align -start rmpm-content">
			<div class="horizontal-align -start rmpm-code">
				<div class="form-group rmpm action">
					<a href="#" class="button-link btn btn-action btn-md" ng-click="$ctrl.openPISModal()"
					 data-toggle="modal">Select FG-IS</a>
				</div>
				<div class="form-group rmpm">
					<label class="label capitalize-text">FG-IS Number</label>
					<input  disabled type="text" ng-model="$ctrl.prs.pis.pisNo" readonly class="form-control -border"
					/>
				</div>
			</div>
		</div>
    <div class="form-group approve-remarks">
    	<label class="remarks">Remarks</label>
    	<textarea class="form-control -border" ng-model="$ctrl.prs.remarks" placeholder="Remarks" rows="3"></textarea>
    </div>
    <table class='table table-bordered'>
              <thead>
                <tr>
                  <th>Lot #</th>
                  <th>Code</th>
                  <th>FG</th>
                  <th>Quantity</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="inventory in $ctrl.prs.pis.inventoryList">
                  <td>{{inventory.product.lotNumber}}</td>
                  <td>{{inventory.product.finishedGood.code}}</td>
                  <td>{{inventory.product.finishedGood.name}}</td>
	                  <td>{{inventory.quantity}}</td>
                </tr>
              </tbody>
            </table>
    <div class="request-action">
      <button type="submit" class="btn btn-create btn-md">{{$ctrl.button}}</button>
    </div>
</div>
</form>



<div class='modal fade' id='findPISModal'>
  <div class="modal-dialog -bg">
	<div class="modal-content">
		<div class="modal-header">
			<h4 class="modal-title">
				FG-IS
			</h4>
			<button class="close" data-dispiss="modal" type="button">
			</button>
		</div>
		<div class="modal-body">
				<div class="search-box horizontal-align -between">
            <div class=" search-modal horizontal-align -between">
                    <div class="input-group-addon" style="border: 0	 !important;"><i class="fa fa-search"></i></div>
                    <input class="form-control -borderless search" placeholder="PIS #" type="text" name="search" ng-model="$ctrl.searchPIS"/>
                  
                </div>
    </div>
			<div class="wrapper scroll-section">
				<table class='table table-hover'>
              <thead>
                <tr>
										<th> <a href="#" ng-click="$ctrl.sortType = 'pis';$ctrl.sortReverse = !$ctrl.sortReverse;">PIS
												<span ng-show="$ctrl.sortType == 'pis' && !$ctrl.sortReverse">
														<i class="fa fa-caret-down"></i>
												</span>
												<span ng-show="$ctrl.sortType == 'pis' && $ctrl.sortReverse">
														<i class="fa fa-caret-up"></i>
												</span>
										</a></th>
                  <th>Date</th>
                  <th>Requested By</th>
                  <th>Shipped From</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="pis in $ctrl.pisList | filter: {pis: $ctrl.searchPIS} | orderBy:$ctrl.sortType:$ctrl.sortReverse" data-dismiss="modal" ng-click="$ctrl.selectPIS(pis)">
                  <td>{{pis.pisNo}}</td>
                  <td>{{pis.date | date}}</td>
                  <td>{{pis.requestedBy.firstName}} {{pis.requestedBy.lastName}}</td>
                  <td>{{pis.fromDepot.code}}</td>
                </tr>
              </tbody>
            </table>
			</div>
		</div>
	</div>
</div>
</div>

</div>
