<form novalidate ng-submit="$ctrl.submitForm();" method="post">
		<div class="horizontal-align -start rmpm-content">
			<div class="horizontal-align -start rmpm-code">
				<div class="form-group rmpm action">
					<a href="#" class="button-link btn btn-action btn-md" ng-click="$ctrl.findReceivingReceipts()" data-target="#selectRRModal"
					 data-toggle="modal">Select Received Item</a>
				</div>
				<div class="form-group rmpm">
					<label class="label capitalize-text">RR Number</label>
					<input  disabled type="text" ng-model="$ctrl.ar.receivingReceipt.number" ng-change="$ctrl.populateApprovedItems()" readonly class="form-control -border"
					/>
				</div>
			</div>
		</div>
		<div class="form-content" ng-if="$ctrl.ar.receivingReceipt">
		
			<div class="step-form">
				<div class="horizontal-align -between">
					<div class="side-one">
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<label class="label capitalize-text">AR Number</label>
								<input type="text" readonly class="form-control -border" value="AUTOGENERATED UPON CREATION"/>
							</div>
						</div>
					</div>
					
					<div class="side-two">
						<div class="form-group">
							<div class="horizontal-align -between content">
								<div class="form-group field">
									<label class="label capitalize-text">Date</label>
									<input type="date" class="form-control -border" ng-model="$ctrl.ar.date" />
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<label class="label capitalize-text">Control Number</label>
			<input type="text" class="form-control -border" ng-model="$ctrl.ar.controlNumber" />
			<div class="step-form">
				<div class="horizontal-align -between">
					<div >
						<p>Item Code</p>
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<input type="text" class="form-control -border" ng-model="$ctrl.ar.item.code" disabled />
							</div>
						</div>
					</div>
					<label>-</label>
					<div >
							<p>RR Number</p>
						<div class="horizontal-align -between content">
							
							<div class="form-group field">
								<input type="text" class="form-control -border" ng-model="$ctrl.ar.receivingReceipt.number" disabled/>
							</div>
						</div>
					</div>
					<label>-</label>
					<div >
							<p>Items Received</p>
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<input type="text" class="form-control -border" ng-model="$ctrl.ar.receivedQuantity"  disabled/>
							</div>
						</div>
					</div>
				</div>
			</div>

		
		
			<div class="step-form">
				<div class="horizontal-align -between">
					<div class="side-one">
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<label class="label capitalize-text">Received By</label>
								<input type="text" ng-value="$ctrl.ar.receivedBy.department.name" class="form-control -border" disabled/>
							</div>
						</div>
					</div>
					<div class="side-two">
						<div class="form-group">
							<div class="horizontal-align -between content">
								<div class="form-group field">
									<label for="department">DR #</label>
									<input disabled type="text" ng-model="$ctrl.ar.receivingReceipt.drNumber" readonly class="form-control -border" />
								</div>
								<div class="form-group field">
									<label for="department">SI #</label>
									<input disabled type="text" ng-model="$ctrl.ar.receivingReceipt.siNumber" readonly class="form-control -border" />
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		
			<div class="step-form">
				<div class="horizontal-align -between">
					<div class="side-one">
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<label class="label capitalize-text">Max Containers</label>
								<input type="text" class="form-control -border" ng-model="$ctrl.ar.maxContainers" />
							</div>
							<div class="form-group field">
								<label class="label capitalize-text">Specified Gravity</label>
								<input type="text" ng-model="$ctrl.ar.specifiedGravity" class="form-control -border" />
							</div>
						</div>
					</div>
				</div>

				
			
		</div>
		<table class='table table-list'>
              <thead>
                <tr>
                  <th>Item</th>
                  <th>Received</th>
               	  <th>Rejected</th>
				  <th>QCSamples</th>
				  <th>Approved</th>
				  <th>Expiration</th>
				  <th>Best Before</th>
				  <th>Re-eval</th>
				  <th>Re-test</th>
                </tr>
              </thead>
              <tbody id='table-less-padding'>
                <tr >
                  <td>{{$ctrl.ar.item.name}} {{$ctrl.ar.item.code}}</td>
                  <td><input disabled type="text" ng-model="$ctrl.ar.receivedQuantity" ng-change="$ctrl.calculateTotal($ctrl.ar)" class="form-control -border" /></td>
                  <!-- <td><input type="text" ng-model="$ctrl.ar.approvedQuantity" ng-change="$ctrl.calculateTotal($ctrl.ar)" class="form-control -border" /></td>-->
				  <td><input type="text" ng-model="$ctrl.ar.rejectedQuantity" ng-change="$ctrl.calculateTotal($ctrl.ar)" class="form-control -border" /></td> 
				  <td><input type="text" ng-model="$ctrl.ar.qcSamples" ng-change="$ctrl.calculateTotal($ctrl.ar)" class="form-control -border" /></td>
				  <td><input type="text" ng-model="$ctrl.ar.approvedQuantity"  class="form-control -border" /></td>
				  <td><input type="date" ng-model="$ctrl.ar.expiration" class="form-control -border" /></td>
				  <td><input type="date" ng-model="$ctrl.ar.bestBefore" class="form-control -border" /></td>
				  <td><input type="date" ng-model="$ctrl.ar.reevaluation" class="form-control -border" /></td>
				  <td><input type="date" ng-model="$ctrl.ar.retest" class="form-control -border" /></td>
                </tr>
              </tbody>
			</table>
			<div class="step-form">
			<div class="horizontal-align -between">
				<div class="side-one">
					<div class="horizontal-align -between content">
						<div class="form-group field">
							<label class="label capitalize-text">Remarks</label>
							<textarea type="text" class="form-control -border" ng-model="$ctrl.ar.remarks"></textarea>
						</div>
					</div>
				</div>
			</div>
		</div>
			<div class="request-action">
					<button type="submit" class="btn btn-create btn-md">{{$ctrl.button}}</button>
				</div>
	</div>
	
</form>



<div class='modal fade' id='selectRRModal'>
		<div class="modal-dialog -bg">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">
						Find Receiving Receipt Item
					</h4>
					<button class="close" data-dismiss="modal" type="button">
					</button>
				</div>
					<div class="wrapper scroll-section">
						<table class='table table-hover'>
							<thead>
								<tr>
									<th>
									</th>
									<th>RR # </th>
									<th>Date</th>
									<th>Status</th>
									<th>Item</th>
									<th>Code</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="rr in $ctrl.receivingReceipts">
									<td>{{rr.number}}</td>
									<td>{{rr.date | date}}</td>
									<td>{{rr.receivedItem.status}}</td>
									<td>{{rr.receivedItem.item.name}}</td>
									<td>{{rr.receivedItem.item.code}}</td>
									<td>
										<button class="btn btn-primary" ng-click="$ctrl.populateApprovedItems(rr)" data-dismiss="modal" type="button">Select</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	  