<style>
	.highlightred{
		background-color:red;
	}
</style>


<form novalidate ng-submit="$ctrl.submitForm();" method="post">
		
		<div class="form-content">
			<div class="step-form">
				<div class="horizontal-align -between">
					<div class="side-one">
						<div class="horizontal-align -between content">
							<div class="form-group field">
								<label class="label capitalize-text">JV Number</label>
								<input type="text" ng-if="$ctrl.jv.number" readonly class="form-control -border" ng-value="$ctrl.jv.number"/>
								<input type="text" ng-if="$ctrl.jv.number == null" readonly class="form-control -border" value="AUTOGENERATED UPON CREATION"/>
								
							</div>
						</div>
					</div>
					
					<div class="side-two">
						<div class="form-group">
							<div class="horizontal-align -between content">
								<div class="form-group field">
									<label class="label capitalize-text">Date</label>
									<input type="text" class="form-control -border" readonly ng-value="$ctrl.jv.date
									 | date:'dd/MM/yyyy'"/>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<input type="radio"  ng-model="$ctrl.adjustment" ng-checked="!$ctrl.jv.adjustment" value="auto" ng-change="$ctrl.toggleAdjustment(false)"/> New
		<input type="radio"  ng-model="$ctrl.adjustment" ng-checked="$ctrl.jv.adjustment" value="manual" ng-change="$ctrl.toggleAdjustment(true)"/> With Adjustment

		<div ng-if="!$ctrl.jv.adjustment">
		<div class="horizontal-align -start rmpm-content">
			  <div class="horizontal-align -start rmpm-code">
			    <div class="form-group rmpm action">
			    		<a href="#" class="button-link btn btn-action btn-md" data-target="#findVendorModal" data-toggle="modal">Select Vendor</a>
			    </div>
			    <div class="form-group rmpm">
			    		<label class="label capitalize-text">Payee Code</label>
			    		<input type="text" ng-model="$ctrl.jv.vendor.code" class="form-control -border"/>
			    </div>
			  </div>
			  <div class="side-two">
			    <div class="form-group">
			      	<label class="label capitalize-text">Payee</label>
			    		<input type="text" ng-model="$ctrl.jv.vendor.name" class="form-control -border"/>
			    </div>
			  </div>
		</div>

		<table class='table table-list'>
              <tbody>
              	<tr>
              		<th>SI #</th>
              		<td><input type="text" ng-model="$ctrl.jv.siNumber"/></td>
              	</tr>
              	<tr>
              		<th>DR #</th>
              		<td><input type="text" ng-model="$ctrl.jv.drNumber"/></td>
              	</tr>
              	<tr>
              		<th>PO #</th>
              		<td><input type="text" ng-model="$ctrl.jv.poNumber"/></td>
              	</tr>
              	<tr>
              		<th>RR #</th>
              		<td><input type="text" ng-model="$ctrl.jv.rrNumber"/></td>
              		<th>Date</th>
              		<td><input type="date" ng-model="$ctrl.jv.rrDate"/></td>
              	</tr>
              </tbody>
			</table>
		</div>
		
		<div ng-if="$ctrl.jv.adjustment">
		<div class="horizontal-align -start rmpm-content">
			<div class="horizontal-align -start rmpm-code">
				<div class="form-group rmpm action">
					<a href="#" class="button-link btn btn-action btn-md" ng-click="$ctrl.findNewVouchers()" data-target="#selectVoucherModal"
					 data-toggle="modal">Select Voucher</a>
				</div>
				<div class="form-group rmpm">
					<label class="label capitalize-text">Voucher Number</label>
					<input  disabled type="text" ng-model="$ctrl.jv.voucher.number" readonly class="form-control -border"
					/>
				</div>
				<div class="form-group rmpm">
					<label class="label capitalize-text">Date</label>
					<p class="form-control -border">{{$ctrl.jv.voucher.date | date}}</p>
				</div>
			</div>
		</div>
		
		<div class="form-content">
			<div class="step-form">
					<div class="horizontal-align -between">
						<div class="side-one">
							<div class="horizontal-align -between content">
								<div class="form-group field">
									<label class="label capitalize-text">Payee Code</label>
									<input type="text" readonly class="form-control -border" ng-model="$ctrl.jv.vendor.code" />
								</div>
								<div class="form-group field">
									<label class="label capitalize-text">Payee</label>
									<input type="text" readonly ng-model="$ctrl.jv.vendor.name" class="form-control -border" />
								</div>
							</div>
						</div>
					</div>
			</div>
		</div>

		<table class='table table-list'>
              <tbody>
              	<tr>
              		<th>SI #</th>
              		<td>{{$ctrl.jv.siNumber}}</td>
              	</tr>
              	<tr>
              		<th>DR #</th>
              		<td>{{$ctrl.jv.drNumber}}</td>
              	</tr>
              	<tr>
              		<th>PO #</th>
              		<td>{{$ctrl.jv.poNumber}}</td>
              	</tr>
              	<tr>
              		<th>RR #</th>
              		<td>{{$ctrl.jv.rrNumber}}</td>
              		<th>Date</th>
              		<td>{{$ctrl.jv.rrDate | date}}</td>
              	</tr>
              </tbody>
			</table>
		</div>
		
		<account-title-table
			accounttitles="$ctrl.jv.accountTitles",
			readonly="false"
		></account-title-table>
		
			<div class="step-form">
			<div class="horizontal-align -between">
				<div class="side-one">
					<div class="horizontal-align -between content">
						<div class="form-group field">
							<label class="label capitalize-text">Remarks</label>
							<textarea type="text" class="form-control -border" ng-model="$ctrl.jv.remarks"></textarea>
						</div>
					</div>
				</div>
			</div>
		</div>
			<div class="request-action">
					<button type="submit" class="btn btn-create btn-md">{{$ctrl.button}}</button>
				</div>
	
	
</form>



<div class='modal fade' id='selectVoucherModal'>
		<div class="modal-dialog -bg">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">
						Find Voucher
					</h4>
					<button class="close" data-dismiss="modal" type="button">
					</button>
				</div>
				<div class="search-box horizontal-align -between">
			      <div class="input-group-addon" style="border: 0	 !important;">
			          <i class="fa fa-search"></i>
			        </div>
			        <input class="form-control -borderless search" placeholder="Voucher No" type="text" name="search" ng-model="$ctrl.searchNumber"
			        />
			        <input class="form-control -borderless search" placeholder="RR No" type="text" name="search" ng-model="$ctrl.searchRRNumber" />
			  </div>
					<div class="wrapper scroll-section">
						<table class='table table-hover'>
							<thead>
								<tr>
									<th>Number</th>
									<th>Date</th>
									<th>Status</th>
									<th>DR</th>
									<th>SI</th>
									<th>PO</th>
									<th>RR</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="v in $ctrl.vouchers | filter: {number: $ctrl.searchNumber, rrNumber: $ctrl.searchRRNumber}">
									<td>{{v.number}}</td>
									<td>{{v.date | date}}</td>
									<td>{{v.status}}</td>
									<td>{{v.drNumber}}</td>
									<td>{{v.siNumber}}</td>
									<td>{{v.poNumber}}</td>
									<td>{{v.rrNumber}}</td>
									<td>
										<button class="btn btn-primary" ng-click="$ctrl.selectVoucher(v)" data-dismiss="modal" type="button">Select</button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>

<find-vendor-modal
			vendor="$ctrl.jv.vendor"
            message="{{ $ctrl.error }}"
            button="Select Vendor"
            >
    </find-vendor-modal>
	  